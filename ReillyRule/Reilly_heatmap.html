<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}

        #map1_container,#map2_container,#map3_container,#map4_container,#map5_container,#map6_container,#map7_container,#map8_container,#map9_container
        {width:33%;height:33%;float:left;overflow: hidden;margin:0;}
        #allmap1{margin:0 0 3px;height:100%;}
        #allmap2{margin:3px 0 0;height:100%;}
        #allmap3{margin:0 0 3px;height:100%;}
        #allmap4{margin:3px 0 0;height:100%;}
        #allmap5{margin:0 0 3px;height:100%;}
        #allmap6{margin:3px 0 0;height:100%;}
        #allmap7{margin:0 0 3px;height:100%;}
        #allmap8{margin:3px 0 0;height:100%;}
        #allmap9{margin:0 0 3px;height:100%;}

        .anchorBL{display:none;}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=7ffAk39uXu91fztY3lB3G4v2"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>添加多个标注点</title>
</head>
<body>
<div id="map1_container"><div id="allmap1"></div></div>
<div id="map2_container"><div id="allmap2"></div></div>
<div id="map3_container"><div id="allmap3"></div></div>
<div id="map4_container"><div id="allmap4"></div></div>
<div id="map5_container"><div id="allmap5"></div></div>
<div id="map6_container"><div id="allmap6"></div></div>
<div id="map7_container"><div id="allmap7"></div></div>
<div id="map8_container"><div id="allmap8"></div></div>
<div id="map9_container"><div id="allmap9"></div></div>

</body>
</html>
<script type="text/javascript">

    map1();
    map2();
    map3();
    map4();
    // 百度地图API功能
    function map1(){
        var map = new BMap.Map("allmap1");
        var cpoint = new BMap.Point(121.43, 31.24);
        map.centerAndZoom(cpoint, 10);
        map.enableScrollWheelZoom(true);
        // 编写自定义函数,创建标注
        function addMarker(point){
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
        }


        var log=[31.176736,31.169461,31.216603,31.214949,31.209588,31.157925,31.218226,31.188286,31.211167,31.2544846,31.197448,31.232135,31.251571,31.24651,31.23941,31.19423,31.259783,31.281251,31.182781,31.289552,31.19395,31.305516,31.194004,31.229861,31.208594,31.395315,31.220518,31.371082,31.175341,31.223204,31.319859,31.364179,31.270599,31.293554,31.260867,31.407856,31.33205,31.276646,31.199195,31.257938,31.24115,31.408164,31.381402,31.281603,31.296843,31.150462,31.241026,31.177068,31.3296233,31.171883,31.232357,31.31946,31.175844,31.345148,31.303864,31.184966,31.320573,31.251923,31.241817,31.285386,31.196593,31.40407985,31.259276,31.279788,31.211854,31.154527,31.191365,31.358022,31.182128,31.26902,31.190815,31.209798,31.287782,31.201963,31.391511,31.04400487,31.250837,31.233317,31.275209,31.256222,31.238073,31.168356,31.16976,31.284942,31.344809,31.232711,31.401721];
        var lat=[121.438365,121.444389,121.374201,121.386932,121.417066,121.443197,121.359473,121.299327,121.404,121.4413221,121.420773,121.413217,121.476368,121.430002,121.417883,121.326249,121.480245,121.48249,121.437277,121.483224,121.32155,121.485078,121.463316,121.459989,121.499576,121.479583,121.430671,121.492828,121.41823,121.446455,121.48496,121.355837,121.479414,121.200384,121.50066,121.439823,121.491556,121.364678,121.474985,121.513088,121.335138,121.461219,121.488177,121.349623,121.323269,121.805853,121.319127,121.370378,121.2546919,121.473936,121.381712,121.276839,121.5831,121.500416,121.413694,121.457138,121.388812,121.517216,121.411453,121.180808,121.41173,121.4760264,121.488675,121.552655,121.527734,121.430133,121.347081,121.498709,121.500375,121.389969,121.45487,121.518625,121.163264,121.489561,121.237326,121.4127881,121.407194,121.515413,121.544688,121.421793,121.484641,121.797051,121.364412,121.421493,121.372763,121.475755,121.350122];

        for (let i = 0; i < lat.length; i++) {
            var point = new BMap.Point(lat[i],log[i]);
            var circle = new BMap.Circle(point,1200,{fillColor:"red",fillColorOpacity:"0.4",strokeColor:"blue", strokeWeight:2, strokeOpacity:0.01});
            //addMarker(point);
            map.addOverlay(circle);
        }

    }

    function map2(){
        var map = new BMap.Map("allmap2");
        var cpoint = new BMap.Point(121.43, 31.24);
        map.centerAndZoom(cpoint, 10);
        map.enableScrollWheelZoom(true);
        // 编写自定义函数,创建标注
        function addMarker(point){
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
        }

        var log=[31.238203,31.298063,31.243908,31.302861,31.16976,31.22776,31.233317,31.194331,31.252076,31.216465,31.165853,31.202491,31.282532,31.213344,31.3115296,31.335441,31.20422,31.192655,31.21105,31.289303,31.2081,31.190246,31.3215893,31.177068,31.191365,31.312317,31.279821,31.196574,31.20183,31.280092,31.268704,31.209547,31.199425,31.290668,31.263501,31.1871549,31.321777,31.2665974,31.279788,31.198834,31.217373,31.203289,31.233004,31.257181,31.196593,31.14987,31.268662,31.213858,31.250389,31.222367,31.245394,31.228978,31.253467,31.328588,31.172646,31.282182,31.193184,31.109955,31.28068,31.263042,31.23585,31.07763,31.202264,31.259276,31.211854,31.229861,31.239121,31.34784,31.272073,31.199444,31.302589,31.026556,31.218226,31.211167,31.293554,31.19316,31.353015,31.218871,31.050282,31.280189,31.150462,31.160088,31.216603,30.924198,31.275209,31.220518,31.377084,31.314963,31.250055,31.045474,31.219866,31.197448,31.322315,31.240013,31.152802,31.241817,31.119074,31.053784,31.214949,31.223204,31.281603,31.141357,30.95929,31.408164,31.168356,31.345188,31.227527,31.149133,31.260867,31.26301,31.271657,31.27387,31.331838,31.209798];
        var lat=[121.502309,121.514648,121.482449,121.514218,121.364412,121.487478,121.515413,121.379917,121.484352,121.475295,121.355163,121.557725,121.578907,121.656565,121.4860935,121.593981,121.602038,121.722817,121.621096,121.510039,121.44435,121.368146,121.6019475,121.370378,121.347081,121.589407,121.615512,121.681101,121.587671,121.602937,121.494561,121.550867,121.392076,121.588847,121.586689,121.6995211,121.506815,121.5281962,121.552655,121.404069,121.5454612,121.523491,121.534643,121.5819,121.41173,121.514515,121.53244,121.673735,121.572733,121.532052,121.564231,121.52685,121.506676,121.506766,121.510868,121.50631,121.516665,121.606906,121.588448,121.638572,121.543525,121.611235,121.435256,121.488675,121.527734,121.459989,121.55226,121.586914,121.587956,121.755374,121.589314,121.793799,121.359473,121.404,121.200384,121.550099,121.57484,121.482939,121.699791,121.626781,121.805853,121.515679,121.374201,121.910073,121.544688,121.430671,121.227863,121.408601,121.498047,121.648982,121.416504,121.420773,121.373569,121.519379,121.593348,121.411453,121.497813,121.761686,121.386932,121.446455,121.349623,121.489643,121.850535,121.461219,121.797051,121.245421,121.548714,121.506282,121.50066,121.400266,121.375957,121.423046,121.226061,121.518625];

        for (var i = 0; i < lat.length; i++) {
            var point = new BMap.Point(lat[i],log[i]);
            var circle = new BMap.Circle(point,1200,{fillColor:"red",fillColorOpacity:"0.4",strokeColor:"blue", strokeWeight:2, strokeOpacity:0.01});
            //addMarker(point);
            map.addOverlay(circle);
        }
    }

    function map3(){
        var map = new BMap.Map("allmap3");
        var cpoint = new BMap.Point(121.43, 31.24);
        map.centerAndZoom(cpoint, 10);
        map.enableScrollWheelZoom(true);
        // 编写自定义函数,创建标注
        function addMarker(point){
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
        }

        var log=[31.16659024,31.179223,31.159847,31.155292,31.146453,31.17277094,31.158171,31.11109,31.150836,31.149638,31.158148,31.141964,31.143227,31.166545,31.121008,31.168237,31.130967,31.170625,31.153366,31.202855,31.206313,31.098205,31.204574,31.054089,31.138561,31.292593,31.271625,31.152802,31.26301,31.03031,31.089321,31.2385537,31.306604,31.250837,31.148763,31.26902,31.174761,31.285386,31.222729,31.279934,31.25876,31.230508,31.20952,31.171883,31.015566,31.391511,31.331838,31.24162,31.21698192,31.380984,31.104467,31.241817,31.096245,31.04400487,31.288975,31.2303,31.154527,31.293554,31.227527,31.084489,31.018222,31.271657,31.287782,31.35518,31.118319,31.345188,31.33113,31.066987,31.369566,31.31946,31.281603,31.296843,31.001529,31.213524,31.318958,31.073417,31.377084,31.3296233,31.339881,31.182781,31.23997658,31.215,31.149133,31.045067,31.119074,31.026424,31.298796,31.011227,31.061409,31.39225,31.175341,30.985223,31.357568,31.084206,31.199425,31.007379,31.202264,31.190815,31.182128,31.00356,31.141357,31.187573,31.185745,31.211772,31.23941,31.233884,31.276646,31.280189,31.194004,31.054906,31.161067,30.924198,31.232711,31.17461];
        var lat=[121.45863,121.441639,121.459763,121.34923,121.522975,121.452974,121.571097,121.385346,121.538879,121.338183,121.36905,121.413958,121.511519,121.384782,121.393101,121.434977,121.402905,121.39781,121.480304,121.460856,121.468689,121.385783,121.446457,121.232617,121.320199,121.45024,121.455361,121.593348,121.400266,121.230739,121.390356,121.4688241,121.448642,121.407194,121.495316,121.389969,121.418069,121.180808,121.473292,121.452017,121.45922,121.423568,121.477256,121.473936,121.230488,121.237326,121.226061,121.458321,121.4985641,121.428045,121.229721,121.411453,121.506388,121.4127881,121.150348,121.516214,121.430133,121.200384,121.548714,121.230473,121.41986,121.375957,121.163264,121.434114,121.26045,121.245421,121.441538,121.401878,121.430981,121.276839,121.349623,121.323269,121.229351,121.449141,121.447096,121.51059,121.227863,121.2546919,121.437707,121.437277,121.4381134,121.458266,121.506282,121.410088,121.497813,121.416578,121.104316,121.410166,121.512228,121.42466,121.41823,121.231067,121.362402,121.509273,121.392076,121.395255,121.435256,121.45487,121.500375,121.380805,121.489643,121.525106,121.509793,121.486108,121.417883,121.442527,121.364678,121.626781,121.463316,121.617434,121.493463,121.910073,121.475755,121.486118];

        for (var i = 0; i < lat.length; i++) {
            var point = new BMap.Point(lat[i],log[i]);
            var circle = new BMap.Circle(point,1200,{fillColor:"red",fillColorOpacity:"0.4",strokeColor:"blue", strokeWeight:2, strokeOpacity:0.01});
            //addMarker(point);
            map.addOverlay(circle);
        }
    }
    function map4(){
        var map = new BMap.Map("allmap4");
        var cpoint = new BMap.Point(121.43, 31.24);
       // var cpoint = new BMap.Point(116.418261, 39.921984);

        map.centerAndZoom(cpoint, 10);
        map.enableScrollWheelZoom(true);
        // 编写自定义函数,创建标注
        function addMarker(point){
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
        }

        var log=[31.16659024,31.179223,31.159847,31.155292,31.146453,31.17277094,31.158171,31.11109,31.150836,31.149638,31.158148,31.141964,31.143227,31.166545,31.121008,31.168237,31.130967,31.170625,31.153366,31.202855,31.206313,31.098205,31.204574,31.054089,31.138561,31.292593,31.271625,31.152802,31.26301,31.03031,31.089321,31.2385537,31.306604,31.250837,31.148763,31.26902,31.174761,31.285386,31.222729,31.279934,31.25876,31.230508,31.20952,31.171883,31.015566,31.391511,31.331838,31.24162,31.21698192,31.380984,31.104467,31.241817,31.096245,31.04400487,31.288975,31.2303,31.154527,31.293554,31.227527,31.084489,31.018222,31.271657,31.287782,31.35518,31.118319,31.345188,31.33113,31.066987,31.369566,31.31946,31.281603,31.296843,31.001529,31.213524,31.318958,31.073417,31.377084,31.3296233,31.339881,31.182781,31.23997658,31.215,31.149133,31.045067,31.119074,31.026424,31.298796,31.011227,31.061409,31.39225,31.175341,30.985223,31.357568,31.084206,31.199425,31.007379,31.202264,31.190815,31.182128,31.00356,31.141357,31.187573,31.185745,31.211772,31.23941,31.233884,31.276646,31.280189,31.194004,31.054906,31.161067,30.924198,31.232711,31.17461];
        var lat=[121.45863,121.441639,121.459763,121.34923,121.522975,121.452974,121.571097,121.385346,121.538879,121.338183,121.36905,121.413958,121.511519,121.384782,121.393101,121.434977,121.402905,121.39781,121.480304,121.460856,121.468689,121.385783,121.446457,121.232617,121.320199,121.45024,121.455361,121.593348,121.400266,121.230739,121.390356,121.4688241,121.448642,121.407194,121.495316,121.389969,121.418069,121.180808,121.473292,121.452017,121.45922,121.423568,121.477256,121.473936,121.230488,121.237326,121.226061,121.458321,121.4985641,121.428045,121.229721,121.411453,121.506388,121.4127881,121.150348,121.516214,121.430133,121.200384,121.548714,121.230473,121.41986,121.375957,121.163264,121.434114,121.26045,121.245421,121.441538,121.401878,121.430981,121.276839,121.349623,121.323269,121.229351,121.449141,121.447096,121.51059,121.227863,121.2546919,121.437707,121.437277,121.4381134,121.458266,121.506282,121.410088,121.497813,121.416578,121.104316,121.410166,121.512228,121.42466,121.41823,121.231067,121.362402,121.509273,121.392076,121.395255,121.435256,121.45487,121.500375,121.380805,121.489643,121.525106,121.509793,121.486108,121.417883,121.442527,121.364678,121.626781,121.463316,121.617434,121.493463,121.910073,121.475755,121.486118];

        /*for (let i = 0; i < lat.length; i++) {
            var point = new BMap.Point(lat[i],log[i]);
            var circle = new BMap.Circle(point,1200,{fillColor:"red",fillColorOpacity:"0.4",strokeColor:"blue", strokeWeight:2, strokeOpacity:0.01});
            //addMarker(point);
            map.addOverlay(circle);
        }*/

        var points =[
            {"lng":116.418261,"lat":39.921984,"count":50},
            {"lng":116.423332,"lat":39.916532,"count":51},
            {"lng":116.419787,"lat":39.930658,"count":15},
            {"lng":116.418455,"lat":39.920921,"count":40},
            {"lng":116.418843,"lat":39.915516,"count":100},
            {"lng":116.42546,"lat":39.918503,"count":6},
            {"lng":116.423289,"lat":39.919989,"count":18},
            {"lng":116.418162,"lat":39.915051,"count":80},
            {"lng":116.422039,"lat":39.91782,"count":11},
            {"lng":116.41387,"lat":39.917253,"count":7},
            {"lng":116.41773,"lat":39.919426,"count":42},
            {"lng":116.421107,"lat":39.916445,"count":4},
            {"lng":116.417521,"lat":39.917943,"count":27},
            {"lng":116.419812,"lat":39.920836,"count":23},
            {"lng":116.420682,"lat":39.91463,"count":60},
            {"lng":116.415424,"lat":39.924675,"count":8},
            {"lng":116.419242,"lat":39.914509,"count":15},
            {"lng":116.422766,"lat":39.921408,"count":25},
            {"lng":116.421674,"lat":39.924396,"count":21},
            {"lng":116.427268,"lat":39.92267,"count":1},
            {"lng":116.417721,"lat":39.920034,"count":51},
            {"lng":116.412456,"lat":39.92667,"count":7},
            {"lng":116.420432,"lat":39.919114,"count":11},
            {"lng":116.425013,"lat":39.921611,"count":35},
            {"lng":116.418733,"lat":39.931037,"count":22},
            {"lng":116.419336,"lat":39.931134,"count":4},
            {"lng":116.413557,"lat":39.923254,"count":5},
            {"lng":116.418367,"lat":39.92943,"count":3},
            {"lng":116.424312,"lat":39.919621,"count":100},
            {"lng":116.423874,"lat":39.919447,"count":87},
            {"lng":116.424225,"lat":39.923091,"count":32},
            {"lng":116.417801,"lat":39.921854,"count":44},
            {"lng":116.417129,"lat":39.928227,"count":21},
            {"lng":116.426426,"lat":39.922286,"count":80},
            {"lng":116.421597,"lat":39.91948,"count":32},
            {"lng":116.423895,"lat":39.920787,"count":26},
            {"lng":116.423563,"lat":39.921197,"count":17},
            {"lng":116.417982,"lat":39.922547,"count":17},
            {"lng":116.426126,"lat":39.921938,"count":25},
            {"lng":116.42326,"lat":39.915782,"count":100},
            {"lng":116.419239,"lat":39.916759,"count":39},
            {"lng":116.417185,"lat":39.929123,"count":11},
            {"lng":116.417237,"lat":39.927518,"count":9},
            {"lng":116.417784,"lat":39.915754,"count":47},
            {"lng":116.420193,"lat":39.917061,"count":52},
            {"lng":116.422735,"lat":39.915619,"count":100},
            {"lng":116.418495,"lat":39.915958,"count":46},
            {"lng":116.416292,"lat":39.931166,"count":9},
            {"lng":116.419916,"lat":39.924055,"count":8},
            {"lng":116.42189,"lat":39.921308,"count":11},
            {"lng":116.413765,"lat":39.929376,"count":3},
            {"lng":116.418232,"lat":39.920348,"count":50},
            {"lng":116.417554,"lat":39.930511,"count":15},
            {"lng":116.418568,"lat":39.918161,"count":23},
            {"lng":116.413461,"lat":39.926306,"count":3},
            {"lng":116.42232,"lat":39.92161,"count":13},
            {"lng":116.4174,"lat":39.928616,"count":6},
            {"lng":116.424679,"lat":39.915499,"count":21},
            {"lng":116.42171,"lat":39.915738,"count":29},
            {"lng":116.417836,"lat":39.916998,"count":99},
            {"lng":116.420755,"lat":39.928001,"count":10},
            {"lng":116.414077,"lat":39.930655,"count":14},
            {"lng":116.426092,"lat":39.922995,"count":16},
            {"lng":116.41535,"lat":39.931054,"count":15},
            {"lng":116.413022,"lat":39.921895,"count":13},
            {"lng":116.415551,"lat":39.913373,"count":17},
            {"lng":116.421191,"lat":39.926572,"count":1},
            {"lng":116.419612,"lat":39.917119,"count":9},
            {"lng":116.418237,"lat":39.921337,"count":54},
            {"lng":116.423776,"lat":39.921919,"count":26},
            {"lng":116.417694,"lat":39.92536,"count":17},
            {"lng":116.415377,"lat":39.914137,"count":19},
            {"lng":116.417434,"lat":39.914394,"count":43},
            {"lng":116.42588,"lat":39.922622,"count":27},
            {"lng":116.418345,"lat":39.919467,"count":8},
            {"lng":116.426883,"lat":39.917171,"count":3},
            {"lng":116.423877,"lat":39.916659,"count":34},
            {"lng":116.415712,"lat":39.915613,"count":14},
            {"lng":116.419869,"lat":39.931416,"count":12},
            {"lng":116.416956,"lat":39.925377,"count":11},
            {"lng":116.42066,"lat":39.925017,"count":38},
            {"lng":116.416244,"lat":39.920215,"count":91},
            {"lng":116.41929,"lat":39.915908,"count":54},
            {"lng":116.422116,"lat":39.919658,"count":21},
            {"lng":116.4183,"lat":39.925015,"count":15},
            {"lng":116.421969,"lat":39.913527,"count":3},
            {"lng":116.422936,"lat":39.921854,"count":24},
            {"lng":116.41905,"lat":39.929217,"count":12},
            {"lng":116.424579,"lat":39.914987,"count":57},
            {"lng":116.42076,"lat":39.915251,"count":70},
            {"lng":116.425867,"lat":39.918989,"count":8}];
        var tpoint=[];

        //详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
        //参数说明如下:
        /* visible 热力图是否显示,默认为true
         * opacity 热力的透明度,1-100
         * radius 势力图的每个点的半径大小
         * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
         *	{
         .2:'rgb(0, 255, 255)',
         .5:'rgb(0, 110, 255)',
         .8:'rgb(100, 0, 255)'
         }
         其中 key 表示插值的位置, 0~1.
         value 为颜色值.
         */
        heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":20});
        map.addOverlay(heatmapOverlay);
        for(let i=0; i < lat.length; i++) {
            tpoint.push({"lng":lat[i],"lat":log[i],"count":40})
        }
        heatmapOverlay.setDataSet({data:tpoint,max:100});

        heatmapOverlay.show();

        function setGradient(){
            /*格式如下所示:
             {
             0:'rgb(102, 255, 0)',
             .5:'rgb(255, 170, 0)',
             1:'rgb(255, 0, 0)'
             }*/
            var gradient = {};
            var colors = document.querySelectorAll("input[type='color']");
            colors = [].slice.call(colors,0);
            colors.forEach(function(ele){
                gradient[ele.getAttribute("data-key")] = ele.value;
            });
            heatmapOverlay.setOptions({"gradient":gradient});
        }
        //判断浏览区是否支持canvas
        function isSupportCanvas(){
            var elem = document.createElement('canvas');
            return !!(elem.getContext && elem.getContext('2d'));
        }
    }
</script>
