<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}

        #map_container
        {width:100%;height:100%;float:left;overflow: hidden;margin:0;}
        #allmap{margin:3px;height:100%;}

        .anchorBL{display:none;}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=7ffAk39uXu91fztY3lB3G4v2"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>

</head>
<body>
<div id="map_container"><div id="allmap"></div></div>

</body>
</html>
<script type="text/javascript">

    map();

    function map(){
        var map = new BMap.Map("allmap");
        var cpoint = new BMap.Point(121.43, 31.24);
        // var cpoint = new BMap.Point(116.418261, 39.921984);

        map.centerAndZoom(cpoint, 12);
        map.enableScrollWheelZoom(true);

        /*function addMarker(point){
            var marker = new BMap.Marker(point);
            map.addOverlay(marker);
        }*/

        var log=[31.289303,31.165853,31.302861,31.202264,31.194331,31.3115296,31.2081,31.199425,31.252076,31.196593,31.282182,31.328588,31.198834,31.321777,31.16976,31.287782,31.345188,31.293554,31.241817,31.298796,31.391511,31.377084,31.3296233,31.26902,31.230508,31.31946,31.296843,31.271657,31.285386,31.331838,31.26301,31.281603,31.276646,31.288975,31.250837,31.279788,31.282532,31.2853,31.250055,31.263042,31.275209,31.268662,31.280189,31.253467,31.234366,30.907268,30.924198,31.232711,31.380984,31.21105,31.196574,31.20422,31.192655,31.217373,31.209547,31.213344,31.199444,31.20183,31.157925,31.175341,31.194004,31.190815,31.211854,31.199195,31.208594,31.222367,31.240013,31.182781,31.228978,31.209798,31.239121,31.263501,31.245394,31.290668,31.353015,31.335441,31.257181,31.28068,31.193184,31.23585,31.203289,31.34784,31.3215893,31.272073,31.302589,31.233004,31.250389,31.312317,31.233884,31.303864,31.27387,31.211212,31.184966,31.388733,31.322315,31.320573,31.199494,31.227182,31.295831,31.278788,31.274959,31.314789,31.242307,31.27652,31.322757,31.274879,31.263523,31.305002,31.288592,31.25322];
        var lat=[121.510039,121.355163,121.514218,121.435256,121.379917,121.4860935,121.44435,121.392076,121.484352,121.41173,121.50631,121.506766,121.404069,121.506815,121.364412,121.163264,121.245421,121.200384,121.411453,121.104316,121.237326,121.227863,121.2546919,121.389969,121.423568,121.276839,121.323269,121.375957,121.180808,121.226061,121.400266,121.349623,121.364678,121.150348,121.407194,121.552655,121.578907,121.562,121.498047,121.638572,121.544688,121.53244,121.626781,121.506676,121.430522,121.929559,121.910073,121.475755,121.428045,121.621096,121.681101,121.602038,121.722817,121.5454612,121.550867,121.656565,121.755374,121.587671,121.443197,121.41823,121.463316,121.45487,121.527734,121.474985,121.499576,121.532052,121.519379,121.437277,121.52685,121.518625,121.55226,121.586689,121.564231,121.588847,121.57484,121.593981,121.5819,121.588448,121.516665,121.543525,121.523491,121.586914,121.6019475,121.587956,121.589314,121.534643,121.572733,121.589407,121.442527,121.413694,121.423046,121.562754,121.457138,121.357451,121.373569,121.388812,121.450338,121.479326,121.533141,121.528363,121.518447,121.531952,121.471543,121.49071,121.531934,121.501481,121.468783,121.531974,121.53494,121.46902];
        var c=[0.011338,0.010714,-0.096618,-0.005555,0.026912,-0.002331,0.054299,-0.032558,0.043396,-0.036765,-0.009427,-0.015909,-0.011345,0.019608,-0.007812,0.066528,0.066421,0.136363,0.124378,0.102339,0.05338,0.072165,0.105651,0.081967,0.136111,0.083334,0.082781,0.143097,0.072289,0.076923,0.092492,0.058223,0.007247,0.093878,0.103896,-0.008511,-0.011111,-0.071428,0.004065,-0.029126,-0.035911,-0.029613,-0.020134,-0.038647,0.10148,0.046666,0.029851,0.010343,0.102041,-0.033066,-0.022346,-0.046416,-0.043479,-0.046855,-0.013633,-0.033679,-0.040817,-0.057355,-0.182353,-0.03166,-0.071428,-0.028571,-0.0135,-0.083333,-0.085657,-0.027798,-0.028278,-0.090253,-0.007223,-0.06262,-0.021277,-0.008052,-0.004464,0.005586,0.005435,-0.048148,0.029412,-0.006522,-0.017588,-0.025822,-0.010899,0.050762,0.018691,0.020202,0.009901,-0.005038,0.006757,0.014493,0.075167,-0.033803,0.031372,0.022059,-0.014354,0.033708,0.023196,0.037785,0.010234,-0.023185,0.04703,0.049246,0.036997,0.017432,0.01938,0.037512,0.014424,0.004888,0.045304,0.02037,0.0044,0.08716];


        for(let i=0;i<log.length;i++){
            var color='';
            var point = new BMap.Point(lat[i]+0.0065, log[i]+0.006);
            if(c[i]>0.00) color="#90f";
            else if(c[i]<-0.00) color="green";
            map.addOverlay(new BMap.Circle(point,500,{fillColor:color,strokeColor:"none"}));
        }




        map.addOverlay(new BMap.Marker(new BMap.Point(121.443699,31.199256)));//徐家汇
        map.addOverlay(new BMap.Marker(new BMap.Point(121.424761,31.224724)));//中山公园








    }

</script>
